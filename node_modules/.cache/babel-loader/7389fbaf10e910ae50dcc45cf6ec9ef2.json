{"ast":null,"code":"import _objectSpread from\"C:/Projects/client-niche-product-website-assignment-12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Projects/client-niche-product-website-assignment-12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useForm}from'react-hook-form';import{useHistory,useParams}from'react-router';import swal from'sweetalert';import useAuth from'../../../Hooks/useAuth';import Footer from'../../Footer/Footer';import Header from'../../Header/Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Order=function Order(){var _service$description;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),service=_useState2[0],setService=_useState2[1];var _useParams=useParams(),serviceId=_useParams.serviceId;var _useAuth=useAuth(),user=_useAuth.user;var history=useHistory();useEffect(function(){fetch(\"http://localhost:8000/services/\".concat(serviceId)).then(function(res){return res.json();}).then(function(data){return setService(data);});},[]);var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset;var onSubmit=function onSubmit(data){data.carName=service===null||service===void 0?void 0:service.name;data.price=service===null||service===void 0?void 0:service.price;data.img=service===null||service===void 0?void 0:service.img;data.state=\"pending\";fetch(\"http://localhost:8000/addEvent\",{method:\"POST\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify(data)}).then(function(res){return res.json();}).then(function(result){return console.log(result);});console.log(data);history.push('/home');swal(\"Congratulation!\",\"You have added successfully\",\"success\");reset();};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container my-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"my-4 text-center\",children:[\"Order \",service===null||service===void 0?void 0:service.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{width:\"18rem\"},children:[/*#__PURE__*/_jsx(\"img\",{src:service===null||service===void 0?void 0:service.img,className:\"card-img-top\",alt:\"...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title\",children:service===null||service===void 0?void 0:service.name}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:service===null||service===void 0?void 0:(_service$description=service.description)===null||_service$description===void 0?void 0:_service$description.slice(0,250)}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Price: \",/*#__PURE__*/_jsxs(\"span\",{style:{color:\"goldenrod\"},children:[service===null||service===void 0?void 0:service.price,\"$\"]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 d-flex flex-column align-items-start justify-content-center\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"d-flex justify-content-center align-items center flex-column w-50 text-center mx-auto\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"mb-2\",placeholder:\"Enter Your Address\"},register(\"address\",{required:true}))),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"mb-2\",placeholder:\"Enter the UserName\",defaultValue:user===null||user===void 0?void 0:user.displayName},register(\"userName\",{required:true,maxLength:100}))),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"mb-2\",type:\"email\",placeholder:\"Enter Your email\",defaultValue:user===null||user===void 0?void 0:user.email},register(\"email\",{required:true,maxLength:100}))),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"mb-2\",type:\"number\",placeholder:\"Enter Your Phone No\"},register(\"phone\",{required:true,maxLength:100}))),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"mb-2\",placeholder:\"Travel date\",type:\"date\"},register(\"deliverDate\",{required:true}))),/*#__PURE__*/_jsx(\"input\",{className:\"btn btn-warning text-white\",type:\"Submit\"})]})})]})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default Order;","map":{"version":3,"sources":["C:/Projects/client-niche-product-website-assignment-12/src/Pages/Services/Order/Order.js"],"names":["React","useEffect","useState","useForm","useHistory","useParams","swal","useAuth","Footer","Header","Order","service","setService","serviceId","user","history","fetch","then","res","json","data","register","handleSubmit","reset","onSubmit","carName","name","price","img","state","method","headers","body","JSON","stringify","result","console","log","push","width","description","slice","color","required","displayName","maxLength","email"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useHistory, useParams } from 'react-router';\r\nimport swal from 'sweetalert';\r\nimport useAuth from '../../../Hooks/useAuth';\r\nimport Footer from '../../Footer/Footer';\r\nimport Header from '../../Header/Header';\r\n\r\nconst Order = () => {\r\n\r\n    const [service, setService] = useState({});\r\n    const { serviceId } = useParams();\r\n    const { user } = useAuth();\r\n    const history = useHistory();\r\n\r\n\r\n    useEffect(() => {\r\n        fetch(`http://localhost:8000/services/${serviceId}`)\r\n            .then(res => res.json())\r\n            .then(data => setService(data))\r\n    }, []);\r\n\r\n    const { register, handleSubmit, reset } = useForm();\r\n\r\n    const onSubmit = (data) => {\r\n        data.carName = service?.name;\r\n        data.price = service?.price;\r\n        data.img = service?.img;\r\n        data.state = \"pending\";\r\n        fetch(\"http://localhost:8000/addEvent\", {\r\n            method: \"POST\",\r\n            headers: { \"content-type\": \"application/json\" },\r\n            body: JSON.stringify(data),\r\n        })\r\n            .then((res) => res.json())\r\n            .then((result) => console.log(result));\r\n        console.log(data);\r\n        history.push('/home')\r\n        swal(\"Congratulation!\", \"You have added successfully\", \"success\");\r\n        reset();\r\n    };\r\n\r\n    return (\r\n        <>\r\n        <Header></Header>\r\n            <div className=\"container my-4\">\r\n                <h2 className=\"my-4 text-center\">Order {service?.name}</h2>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                        <div className=\"card\" style={{ width: \"18rem\" }}>\r\n                            <img src={service?.img} className=\"card-img-top\" alt=\"...\" />\r\n                            <div className=\"card-body\">\r\n                                <h4 className=\"card-title\">{service?.name}</h4>\r\n                                <p className=\"card-text\">{(service?.description)?.slice(0,250)}</p>\r\n                                <h3>Price: <span style={{ color: \"goldenrod\" }}>{service?.price}$</span></h3>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-md-6 d-flex flex-column align-items-start justify-content-center\">\r\n                        <form onSubmit={handleSubmit(onSubmit)} className=\"d-flex justify-content-center align-items center flex-column w-50 text-center mx-auto\">\r\n\r\n                            <input className=\"mb-2\" placeholder=\"Enter Your Address\" {...register(\"address\", { required: true })} />\r\n\r\n                            <input className=\"mb-2\" placeholder=\"Enter the UserName\" defaultValue={user?.displayName} {...register(\"userName\", { required: true, maxLength: 100 })} />\r\n                            <input className=\"mb-2\" type=\"email\" placeholder=\"Enter Your email\" defaultValue={user?.email} {...register(\"email\", { required: true, maxLength: 100 })} />\r\n                            <input className=\"mb-2\" type=\"number\" placeholder=\"Enter Your Phone No\" {...register(\"phone\", { required: true, maxLength: 100 })} />\r\n                            <input className=\"mb-2\" placeholder=\"Travel date\" type=\"date\"  {...register(\"deliverDate\", { required: true })} />\r\n\r\n                            <input className=\"btn btn-warning text-white\" type=\"Submit\" />\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Footer></Footer>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Order;\r\n"]},"metadata":{},"sourceType":"module"}