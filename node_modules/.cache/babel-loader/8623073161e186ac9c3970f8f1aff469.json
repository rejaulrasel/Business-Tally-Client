{"ast":null,"code":"import _slicedToArray from\"C:/Projects/3-1 Final Projects/client-RN-Tech-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Table}from'react-bootstrap';import swal from'sweetalert';import useAuth from'../../Hooks/useAuth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyOrder=function MyOrder(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),events=_useState2[0],setEvents=_useState2[1];console.log(events);var _useAuth=useAuth(),user=_useAuth.user;useEffect(function(){fetch(\"https://polar-savannah-62685.herokuapp.com/myEvents/\".concat(user===null||user===void 0?void 0:user.email)).then(function(res){return res.json();}).then(function(data){return setEvents(data);});},[user.email]);var handleDelete=function handleDelete(id){swal({title:\"Are you sure?\",text:\"Once deleted, you will not be able to recover this file!\",icon:\"warning\",buttons:true,dangerMode:true}).then(function(willDelete){if(willDelete){fetch(\"https://polar-savannah-62685.herokuapp.com/deleteEvents/\".concat(id),{method:\"Delete\",headers:{\"content-type\":\"application/json\"}},[]).then(function(res){return res.json();}).then(function(data){if(data.deletedCount){var remaining=events.filter(function(event){return event._id!==id;});setEvents(remaining);}});swal(\"Your file has been deleted!\",{icon:\"success\"});}else{swal(\"Your file is safe!\");}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Events\"}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Product Name Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Product Name Image\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"User Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"User Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Deliver Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Cancel\"})]})}),events.map(function(event,index){return/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:event===null||event===void 0?void 0:event.carName}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"img\",{src:event===null||event===void 0?void 0:event.img,width:\"100px\",style:{borderRadius:\"50%\"},className:\"img-fluid\",alt:\"\"}),\" \"]}),/*#__PURE__*/_jsx(\"td\",{children:event===null||event===void 0?void 0:event.userName}),/*#__PURE__*/_jsx(\"td\",{children:event===null||event===void 0?void 0:event.email}),/*#__PURE__*/_jsx(\"td\",{children:event===null||event===void 0?void 0:event.deliverDate}),/*#__PURE__*/_jsx(\"td\",{children:event===null||event===void 0?void 0:event.address}),/*#__PURE__*/_jsx(\"td\",{children:event===null||event===void 0?void 0:event.phone}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDelete(event._id);},className:\"btn btn-danger text-white\",children:\"Delete\"})})]})},event===null||event===void 0?void 0:event._id);})]})]});};export default MyOrder;","map":{"version":3,"sources":["C:/Projects/3-1 Final Projects/client-RN-Tech-website/src/Pages/MyOrder/MyOrder.js"],"names":["React","useEffect","useState","Table","swal","useAuth","MyOrder","events","setEvents","console","log","user","fetch","email","then","res","json","data","handleDelete","id","title","text","icon","buttons","dangerMode","willDelete","method","headers","deletedCount","remaining","filter","event","_id","map","index","carName","img","borderRadius","userName","deliverDate","address","phone"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport swal from 'sweetalert';\r\nimport useAuth from '../../Hooks/useAuth';\r\n\r\nconst MyOrder = () => {\r\n\r\n    const [events,setEvents] = useState([]);\r\n    console.log(events)\r\n    const {user} = useAuth();\r\n\r\n    useEffect(() => {\r\n        fetch(`https://polar-savannah-62685.herokuapp.com/myEvents/${user?.email}`)\r\n        .then(res => res.json())\r\n        .then(data => setEvents(data));\r\n    },[user.email]);\r\n\r\n\r\n    const handleDelete = id => {\r\n\r\n        swal({\r\n            title: \"Are you sure?\",\r\n            text: \"Once deleted, you will not be able to recover this file!\",\r\n            icon: \"warning\",\r\n            buttons: true,\r\n            dangerMode: true,\r\n        })\r\n            .then((willDelete) => {\r\n                if (willDelete) {\r\n\r\n                    fetch(`https://polar-savannah-62685.herokuapp.com/deleteEvents/${id}`, {\r\n                        method: \"Delete\",\r\n                        headers: { \"content-type\": \"application/json\" },\r\n                    }, [])\r\n                        .then(res => res.json())\r\n                        .then(data => {\r\n                            if (data.deletedCount) {\r\n                                const remaining = events.filter(event => event._id !== id);\r\n                                setEvents(remaining);\r\n                            }\r\n                        })\r\n\r\n\r\n\r\n                    swal(\"Your file has been deleted!\", {\r\n                        icon: \"success\",\r\n                    });\r\n                } else {\r\n                    swal(\"Your file is safe!\");\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <h2>My Events</h2>\r\n\r\n            <Table striped bordered>\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col\">#</th>\r\n                        <th scope=\"col\">Product Name Name</th>\r\n                        <th scope=\"col\">Product Name Image</th>\r\n                        <th scope=\"col\">User Name</th>\r\n                        <th scope=\"col\">User Email</th>\r\n                        <th scope=\"col\">Deliver Date</th>\r\n                        <th scope=\"col\">Address</th>\r\n                        <th scope=\"col\">Phone Number</th>\r\n                        <th scope=\"col\">Cancel</th>\r\n\r\n\r\n                    </tr>\r\n                </thead>\r\n                {\r\n                    events.map((event, index) => (\r\n                        <tbody key={event?._id}>\r\n                            <tr>\r\n                            <td>{index + 1}</td>\r\n                                <td>{event?.carName}</td>\r\n                                <td><img src={event?.img} width=\"100px\" style={{borderRadius:\"50%\"}} className=\"img-fluid\" alt=\"\" /> </td>\r\n                                <td>{event?.userName}</td>\r\n                                <td>{event?.email}</td>\r\n                                <td>{event?.deliverDate}</td>\r\n                                <td>{event?.address}</td>\r\n                                <td>{event?.phone}</td>\r\n                                <td><button onClick={() => handleDelete(event._id)} className=\"btn btn-danger text-white\" >Delete</button></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    ))\r\n                }\r\n\r\n            </Table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyOrder;"]},"metadata":{},"sourceType":"module"}