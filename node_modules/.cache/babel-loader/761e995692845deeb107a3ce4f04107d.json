{"ast":null,"code":"import _slicedToArray from\"C:/Projects/3-1 Final Projects/client-RN-Tech-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import swal from'sweetalert';import useAuth from'../../Hooks/useAuth';import Service from'../../Pages/Services/Service/Service';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ManageService=function ManageService(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),services=_useState2[0],setServices=_useState2[1];var _useAuth=useAuth(),admin=_useAuth.admin;useEffect(function(){fetch('https://polar-savannah-62685.herokuapp.com/services').then(function(res){return res.json();}).then(function(data){setServices(data);console.log(data);});},[]);var handleDelete=function handleDelete(id){console.log(id);swal({title:\"Are you sure?\",text:\"Once deleted, you will not be able to recover this file!\",icon:\"warning\",buttons:true,dangerMode:true}).then(function(willDelete){if(willDelete){fetch(\"https://polar-savannah-62685.herokuapp.com/deleteService/\".concat(id),{method:\"Delete\",headers:{\"content-type\":\"application/json\"}},[]).then(function(res){return res.json();}).then(function(data){if(data.deletedCount){var rest=services.filter(function(item){return item._id!==id;});setServices(rest);}});swal(\"Your file has been deleted!\",{icon:\"success\"});}else{swal(\"Your file is safe!\");}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"my-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Explore the Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row container-fluid container mx-auto\",children:services.map(function(service){return/*#__PURE__*/_jsx(Service,{service:service,admin:admin,handleDelete:handleDelete},service._id);})})]});};export default ManageService;","map":{"version":3,"sources":["C:/Projects/3-1 Final Projects/client-RN-Tech-website/src/Dashboard/ManageService/ManageService.js"],"names":["React","useEffect","useState","swal","useAuth","Service","ManageService","services","setServices","admin","fetch","then","res","json","data","console","log","handleDelete","id","title","text","icon","buttons","dangerMode","willDelete","method","headers","deletedCount","rest","filter","item","_id","map","service"],"mappings":"4KAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,IAAP,KAAiB,YAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sCAApB,C,wFAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAExB,cAAgCJ,QAAQ,CAAC,EAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eACA,aAAkBJ,OAAO,EAAzB,CAAQK,KAAR,UAAQA,KAAR,CAEAR,SAAS,CAAC,UAAM,CACZS,KAAK,CAAC,qDAAD,CAAL,CACKC,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADb,EAEKF,IAFL,CAEU,SAAAG,IAAI,CAAI,CACVN,WAAW,CAACM,IAAD,CAAX,CACAC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACH,CALL,EAMH,CAPQ,CAON,EAPM,CAAT,CASA,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,EAAE,CAAI,CACvBH,OAAO,CAACC,GAAR,CAAYE,EAAZ,EACAf,IAAI,CAAC,CACDgB,KAAK,CAAE,eADN,CAEDC,IAAI,CAAE,0DAFL,CAGDC,IAAI,CAAE,SAHL,CAIDC,OAAO,CAAE,IAJR,CAKDC,UAAU,CAAE,IALX,CAAD,CAAJ,CAOKZ,IAPL,CAOU,SAACa,UAAD,CAAgB,CAClB,GAAIA,UAAJ,CAAgB,CAEZd,KAAK,oEAA6DQ,EAA7D,EAAmE,CACpEO,MAAM,CAAE,QAD4D,CAEpEC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAF2D,CAAnE,CAGF,EAHE,CAAL,CAIKf,IAJL,CAIU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAJb,EAKKF,IALL,CAKU,SAAAG,IAAI,CAAI,CACV,GAAIA,IAAI,CAACa,YAAT,CAAuB,CACnB,GAAMC,CAAAA,IAAI,CAAGrB,QAAQ,CAACsB,MAAT,CAAgB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,GAAL,GAAab,EAAvB,EAAhB,CAAb,CACAV,WAAW,CAACoB,IAAD,CAAX,CACH,CACJ,CAVL,EAcAzB,IAAI,CAAC,6BAAD,CAAgC,CAChCkB,IAAI,CAAE,SAD0B,CAAhC,CAAJ,CAGH,CAnBD,IAmBO,CACHlB,IAAI,CAAC,oBAAD,CAAJ,CACH,CACJ,CA9BL,EA+BH,CAjCD,CAmCA,mBACI,aAAK,SAAS,CAAC,MAAf,wBACI,WAAI,SAAS,CAAC,aAAd,kCADJ,cAEI,YAAK,SAAS,CAAC,uCAAf,UAEQI,QAAQ,CAACyB,GAAT,CAAa,SAAAC,OAAO,qBAAI,KAAC,OAAD,EAEpB,OAAO,CAAEA,OAFW,CAGpB,KAAK,CAAExB,KAHa,CAIpB,YAAY,CAAEQ,YAJM,EACfgB,OAAO,CAACF,GADO,CAAJ,EAApB,CAFR,EAFJ,GADJ,CAeH,CAhED,CAkEA,cAAezB,CAAAA,aAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport swal from 'sweetalert';\r\nimport useAuth from '../../Hooks/useAuth';\r\nimport Service from '../../Pages/Services/Service/Service';\r\n\r\nconst ManageService = () => {\r\n\r\n    const [services, setServices] = useState([]);\r\n    const { admin } = useAuth();\r\n\r\n    useEffect(() => {\r\n        fetch('https://polar-savannah-62685.herokuapp.com/services')\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                setServices(data);\r\n                console.log(data);\r\n            })\r\n    }, [])\r\n\r\n    const handleDelete = id => {\r\n        console.log(id);\r\n        swal({\r\n            title: \"Are you sure?\",\r\n            text: \"Once deleted, you will not be able to recover this file!\",\r\n            icon: \"warning\",\r\n            buttons: true,\r\n            dangerMode: true,\r\n        })\r\n            .then((willDelete) => {\r\n                if (willDelete) {\r\n\r\n                    fetch(`https://polar-savannah-62685.herokuapp.com/deleteService/${id}`, {\r\n                        method: \"Delete\",\r\n                        headers: { \"content-type\": \"application/json\" },\r\n                    }, [])\r\n                        .then(res => res.json())\r\n                        .then(data => {\r\n                            if (data.deletedCount) {\r\n                                const rest = services.filter((item) => item._id !== id);\r\n                                setServices(rest);\r\n                            }\r\n                        })\r\n\r\n\r\n\r\n                    swal(\"Your file has been deleted!\", {\r\n                        icon: \"success\",\r\n                    });\r\n                } else {\r\n                    swal(\"Your file is safe!\");\r\n                }\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div className=\"my-4\">\r\n            <h1 className=\"text-center\">Explore the Products</h1>\r\n            <div className=\"row container-fluid container mx-auto\">\r\n                {\r\n                    services.map(service => <Service\r\n                        key={service._id}\r\n                        service={service}\r\n                        admin={admin}\r\n                        handleDelete={handleDelete}\r\n                    ></Service>)\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ManageService;"]},"metadata":{},"sourceType":"module"}